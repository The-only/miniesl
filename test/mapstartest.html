<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mapstarttest</title>
    <script src="../src/miniesl.js"></script>
</head>
<body>
    <script>
    require.config({
        'map': {
            '*': {
                'te': 'mapstar'
            },
            'mod3': {
                'te': 'map'
            }
        },
    });

    define('mod1', ['require'], function (require) {
        console.log('define mod1');
        console.log(require('te').age); // 等价于 require('mapstar');
        return {
            age: 'mod1 age is ' + 10
        };
    });


    define('mod2', ['require'], function (require) {
        console.log('define mod2');
        console.log(require('te').age); // 等价于 require('mapstar');
        return {
            age: 'mod2 age is ' + 100
        };
    });

    define('mod3', ['require'], function (require) {
        console.log('define mod3');
        console.log(require('te').age); // 等价于 require('map');
        return {
            age: 'mod3 age is ' + 1000
        };
    });

    define('map', [], function () {
        console.log('define map');
        return {
            age: 'map age is ' + 2000
        };
    });

    define('mapstar', [], function () {
        console.log('define mapstar');
        return {
            age: 'mapstar age is ' + 3000
        };
    });

    require(['mod1', 'mod2', 'mod3'], function (m1, m2, m3) {
        console.log(m1.age);
        console.log(m2.age);
        console.log(m3.age);
    });

    /*
    输出结果：
    define mod1
    define mapstar
    mapstar age is 3000
    define mod2
    mapstar age is 3000
    define mod3
    define map
    map age is 2000
    mod1 age is 10
    mod2 age is 100
    mod3 age is 1000
    */
    </script>
</body>
</html>